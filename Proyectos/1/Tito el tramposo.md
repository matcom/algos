
Tito el tramposo

Tito está pasando un curso de Diseño y Análisis de Algoritmos. Este año,
por primera vez en la historia, los profesores han decidido evaluar el
curso mediante un examen final y Tito se ha dado cuenta de que, a
grandes rasgos, está frito. A pesar de ser un poco barco, es de hecho un
muchacho inteligente y rápidamente se da cuenta que su única forma de
aprobar era hacer trampa. El día de la prueba, Tito se sentó en el
asiento que estaba entre Hansel y Elena para fijarse, con la esperanza
de que, uniendo las preguntas respondidas por cada uno, se pudiera
formar un examen correcto.

El examen tiene $n$ preguntas, ordenadas en la hoja. Elena y Hansel
pueden no ser capaces de responder cada uno el examen entero, pero todas
las preguntas que responden, están correctas. Se conoce cuáles preguntas
respondió cada uno y se reciben como dos listas ordenadas de enteros
entre 1 y $n$. Tito tiene $p$ oportunidades para mirar hacia la
izquierda (hoja de Hansel) o hacia la derecha (Hoja de Elena) y su
agilidad mental le alcanza para ver las respuestas de $k$ preguntas
consecutivas (en cualquier posición) cada vez que echa una mirada a un
examen.

Ayude a Tito a saber la cantidad máxima de preguntas que puede responder
con su (tramposa) estrategia.

